<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <!-- average平均数avg map映射 repeat重复 item条目 -->
    <script>
        // 1. 定义一个含有30个整型元素的数组，按顺序分别赋予从2开始的偶数；然后按顺序每五个数求出一个平均值，放在另一个数组中并输出。试编程。        
        function fn11() {
            var arr = []
            var temp = 2
            for (var i = 0; i < 30; i++) {
                arr.push(temp)
                temp += 2
            }
            console.log(arr);


            /* 5个一组求平均数 */

            // 存储平均数
            var avgArr = []
            var sum = 0, count = 0

            for (var i = 0; i < arr.length; i++) {
                sum += arr[i]
                count++

                /* sum每收集5个 就立刻求一下平均数 */
                if (count % 5 === 0) {
                    // 求得当前5个元素的平均数
                    var avg = sum / 5
                    avgArr.push(avg)

                    // 将和归零 准备求下一组平均数
                    sum = 0
                }
            }
            console.log(avgArr);
        }
        // fn11()

        // 2. 通过循环按执行顺序，做一个5×5的二维数组，赋1到25的自然数，然后输出该数组的左下半三角。试编程。
        function fn12() {
            var smallArr = [], bigArr = []
            for (var i = 1; i <= 25; i++) {
                smallArr.push(i)

                if (smallArr.length === 5) {
                    bigArr.push(smallArr)

                    // 重新创建一个空数组 地址交给smallArr存储
                    smallArr = []
                }
            }
            console.log(bigArr);

            /* 遍历二维数组 */
            for (var i = 0; i < bigArr.length; i++) {
                var sa = bigArr[i]

                // 输出第i个一维数组的前i+1项
                for (var j = 0; j < i + 1; j++) {
                    // console.log(sa[j]);
                    document.write(sa[j] + "&nbsp;")
                }
                document.write("<br>")
            }
        }
        // fn12()

        // 1. 随机生成一个五位以内的数，然后输出该数共有多少位，每位分别是什么
        function fn21() {
            var num = parseInt(Math.random() * 100000)
            console.log(num);
            // 12345 [5,]
            // 1234 4 [4,5]
            // 123 3 [3,4,5]
            // 12 2 [2,3,4,5]
            // 1 1 [1,2,3,4,5]
            // 0.1 结束
            var arr = []
            while (num > 0) {
                // 12345 取出个位数5
                var digit = num % 10

                // 丢入结果数组的头部
                arr.unshift(digit)

                // num干成1234 123 12 1 0
                num = parseInt(num / 10)
            }

            console.log(arr.length, arr);
        }
        // fn21()

        // 4. 编写函数map(arr) 把数组中的每一位数字都增加30%，并返回一个新数组
        function fn24() {
            function map(arr) {
                var retArr = []
                for (var i = 0; i < arr.length; i++) {
                    // 映射出的新元素
                    var mappedItem = arr[i] * 1.3
                    retArr.push(mappedItem)
                }
                return retArr
            }
            console.log(map([10, 100, 1000]));

        }
        // fn24()

        // 5. 编写函数has(arr , 60) 判断数组中是否存在60这个元素，返回布尔类型
        function fn25() {
            function has(arr, item) {

                // 逼格指数：60分
                // if (arr.indexOf(item) === -1) {
                //     return false
                // } else {
                //     return true
                // }

                // 逼格指数：80分
                // return (arr.indexOf(item) === -1 ? false : true)

                // 逼格指数：100分
                return !(arr.indexOf(item) === -1)
            }
            console.log(has([1, 2, 3], 1));
            console.log(has([1, 2, 3], 10));
        }
        // fn25()

        // 1. 编写函数norepeat(arr) 将数组的重复元素去掉，并返回新的数组
        function fn31() {
            function norepeat(arr) {
                var retArr = []

                // 遍历arr
                for (var i = 0; i < arr.length; i++) {
                    var item = arr[i]

                    // 如果该item不存在与retArr 则丢入之
                    if (retArr.indexOf(item) === -1) {
                        retArr.push(item)
                    }
                }

                return retArr
            }
            console.log(norepeat([3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5, 8]));
        }
        // fn31()

        // 2. 有一个从小到大排好序的数组。现输入一个数，要求按原来的规律将它插入数组中。
        function fn32() {
            function insertByOrder(arr, item) {
                // 插头部
                if (item <= arr[0]) {
                    arr.unshift(item)
                    return
                }

                // 插尾部
                if (item >= arr[arr.length - 1]) {
                    arr.push(item)
                    return
                }

                // 插中间(找到正确的index 然后arr.splice(index,0,item))
                for (var index = 0; index < arr.length; index++) {
                    if (item >= arr[index - 1] && item <= arr[index]) {
                        arr.splice(index, 0, item)
                        return
                    }
                }
            }

            var arr = [1, 2, 3, 4, 5]
            insertByOrder(arr, 4.5)
            console.log(arr);
        }
        fn32()
    </script>
</body>

</html>